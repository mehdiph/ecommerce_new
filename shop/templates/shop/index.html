{% extends 'base.html' %}

{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'shop/index.css' %}">
{% endblock css %}

{% block content %}

    <!-- Main Content -->
    <div class="container my-5">
        <div class="row">
            <!-- Categories Sidebar -->
            <div class="col-lg-3 mb-4">
                <div class="category-sidebar">
                    <h3 class="category-title">Categories</h3>
                    <div class="category-item {% if not category %} active {% endif %}">
                        <i class="fas fa-mobile-alt"></i>
                        <span>All</span>
                        <span class="category-badge">{{ products|length }}</span>
                    </div>
                    {% for c in categories %}
                    <div class="category-item {% if category.slug == c.slug %} active {% endif %}">
                        <i class="fas fa-mobile-alt"></i>
                        <a href="{{ c.get_absolute_url }}" class="text-decoration-none">
                        <span>{{ c.name|title }}</span>
                        <span class="category-badge">{{ c.products.all|length }}</span>
                        </a>
                    </div>
                    {% endfor %}

                </div>
            </div>
            
            <!-- Products Section -->
            <div class="col-lg-9">
                <!-- Promo Banner -->
                <div class="promo-banner">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h2 class="promo-title">Summer Sale!</h2>
                            <p class="promo-text">Get up to 40% off on all electronics. Limited time offer!</p>
                            <button class="btn btn-promo">Shop Now</button>
                        </div>
                        <div class="col-md-6 d-none d-md-block text-center">
                            <img src="https://via.placeholder.com/300x150/ffffff/ffffff?text=Promo+Banner" alt="Promo" class="img-fluid">
                        </div>
                    </div>
                </div>
                
                <!-- Products Grid -->
                <div class="row">
                    <div class="col-12 mb-4">
                        <div class="d-flex justify-content-between align-items-center">
                            <h3>Featured Products</h3>
                            <div>
                                <button class="btn btn-sm btn-outline-primary">Newest</button>
                                <button class="btn btn-sm btn-outline-primary ms-2">Popular</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product 1 -->
                    {% for product in products %}
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="product-card">
                            <div class="product-img">
                                <img src="{{ product.image.url }}" alt="iPhone 13">
                                <span class="product-badge bg-danger">SALE</span>
                            </div>
                            <div class="product-info">
                                <h5 class="product-title">{{ product.name }}</h5>
                                <div class="product-category">{{ product.category }}</div>
                                <div class="product-price">${{ product.price }}</div>
                                <div class="product-rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                    <span class="ms-1">(128)</span>
                                </div>
                                <a href="{{ product.get_absolute_url }}">
                                    <button class="btn btn-add-to-cart">
                                        <i class="fas fa-shopping-cart me-2"></i>Add to Cart
                                    </button>
                                </a>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    
                    
                </div>
            </div>
        </div>
    </div>

{% endblock content %}